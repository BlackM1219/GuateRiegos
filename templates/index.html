{% extends 'base.html' %} {% block content %}
<section class="card">
    <h2>Cargar archivo XML</h2>
    <form action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" accept=".xml" required>
        <button type="submit">Cargar</button>
    </form>
</section>

{% if data %}
<section class="card">
    <h3>Invernaderos disponibles</h3>
    <form action="/simulate" method="post">
        <label for="invernadero">Invernadero:</label>
        <select name="invernadero">
            {% for inv in data.iter() %}
                <option value="{{ inv.nombre }}">{{ inv.nombre }}</option>
            {% endfor %}
        </select>

        <label for="plan">Plan:</label>
        <select name="plan">
            {% for inv in data.iter() %}
                {% for p in inv.planes.iter() %}
                    <option value="{{ p[0] }}">{{ inv.nombre }} - {{ p[0] }}</option>
                {% endfor %}
            {% endfor %}
        </select>
        <button type="submit">Simular</button>
    </form>
</section>
{% endif %} {% endblock %}